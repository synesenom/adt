(function(t,e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e(require("d3"),require("lodash"),require("./widget"))}else if(typeof define==="function"&&define.amd){define(["d3","lodash","src/widget","exports"],e)}else{t.du=t.du||{};t.du.widgets=t.du.widgets||{};t.du.widgets.BoxPlot=e(t.d3,t._,t.du.Widget)}})(this,function(t,e,i){"use strict";function n(n,r){var a=i.call(this,n,"boxplot","svg",r);var s={};var o=[];this.data=function(i){o={};e.forOwn(i,function(e,i){var n=e.sort(t.ascending);var r=t.min(n),a=t.max(n),s=t.quantile(n,.25),d=t.quantile(n,.75),u=d-s;var l=[],c=[];e.filter(function(t){return t<s-1.5*u||t>d+1.5*u}).forEach(function(t){if(t<s-3*u||t>d+3*u){c.push(t)}else{l.push(t)}});o[i]={median:t.median(n),q1:s,q3:d,lowerWhisker:Math.max(r,s-1.5*u),upperWhisker:Math.min(a,d+1.5*u),outliers:{mild:l,extreme:c}}});return this};this.highlight=function(t,e){return a.utils.highlight(this,s,".box",t,e)};a.utils.tooltip=function(t){};a.render.build=function(){s.g=a.widget.append("g");s.axisFn={x:t.axisBottom().ticks(7),y:t.axisLeft().ticks(5)};s.axes={x:s.g.append("g").attr("class","x axis"),y:s.g.append("g").attr("class","y axis")};s.labels={x:s.g.append("text").attr("class","x axis-label").attr("text-anchor","end").attr("stroke-width",0),y:s.g.append("text").attr("class","y axis-label").attr("text-anchor","begin").attr("stroke-width",0)}};a.render.update=function(t){};a.render.style=function(){}}n.prototype=Object.create(i.prototype);return n});