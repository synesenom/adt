(function(t,e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e(require("d3"),require("./widgets"),exports)}else if(typeof define==="function"&&define.amd){define(["d3","widgets","exports"],e)}else{t.du=t.du||{};t.du.widgets=t.du.widgets||{};t.du.widgets.Picture=e(t.d3,t.du.widgets.Widget,t)}})(this,function(t,e){"use strict";function i(t,i){var r=e.call(this,t,"picture","div",i);r.attr.add(this,"src","");var d={};var n=null;r.render.build=function(){d.g=r.widget.append("img").style("width",r.attr.width>0?r.attr.width:null).style("height",r.attr.height>0?r.attr.height:null).style("position","relative").style("pointer-events","none");n=new Image;n.onload=function(){var t=n.width/n.height;var e=r.attr.width/r.attr.height;var i=t>e?r.attr.width:r.attr.height*t;var a=t<e?r.attr.height:r.attr.width/t;d.g.attr("src",r.attr.src);d.g.style("width",i+"px").style("height",a+"px").style("margin-left",(r.attr.width-i)/2+"px").style("margin-top",(r.attr.height-a)/2+"px")}};r.render.style=function(){if(r.attr.src){n.src=r.attr.src}}}i.prototype=Object.create(e.prototype);return i});