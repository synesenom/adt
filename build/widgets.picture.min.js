(function(t,e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e(require("d3"),require("./widget"),exports)}else if(typeof define==="function"&&define.amd){define(["d3","src/widget","exports"],e)}else{t.du=t.du||{};t.du.widgets=t.du.widgets||{};t.du.widgets.Picture=e(t.d3,t.du.Widget)}})(this,function(t,r){"use strict";function e(t,e){var a=r.call(this,t,"picture","div",e);a.attr.add(this,"src","");var n={};var o=null;a.render.build=function(){n.g=a.widget.append("div").style("width",a.attr.width>0?a.attr.width:null).style("height",a.attr.height>0?a.attr.height:null).style("position","relative").style("pointer-events","all");o=new Image;o.onload=function(){var t=o.width/o.height;var e=a.attr.width/a.attr.height;var r=t>e?a.attr.width:a.attr.height*t;var i=t<e?a.attr.height:a.attr.width/t;n.g.style("background-image","url("+a.attr.src+")").style("background-repeat","none").style("background-size",r+"px "+i+"px").style("width",r+"px").style("height",i+"px").style("margin-left",(a.attr.width-r)/2+"px").style("margin-top",(a.attr.height-i)/2+"px").on("mouseover",function(){a.attr.mouseover&&a.attr.mouseover(o)}).on("mouseleave",function(){a.attr.mouseleave&&a.attr.mouseleave(o)}).on("click",function(){a.attr.click&&a.attr.click(o)})}};a.render.style=function(){if(a.attr.src){o.src=a.attr.src}}}e.prototype=Object.create(r.prototype);return e});