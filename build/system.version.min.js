(function(e,o){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=o()}else if(typeof define==="function"&&define.amd){define(["exports"],o)}else{e.du=e.du||{};e.du.system=e.du.system||{};e.du.system.version=o()}})(this,function(){"use strict";var o="data/version.json";var i="du-version";var t=false;function n(e){if(typeof e!=="string"){return{major:0,minor:0,patch:1}}var o=e.split(".");return{major:o.length>0?+o[0]:0,minor:o.length>1?+o[1]:0,patch:o.length>2?+o[2]:1}}function s(e,o){var t=n(o),r=n(e);return r.major>t.major||r.major===t.major&&r.minor>t.minor||r.major===t.major&&r.minor===t.minor&&r.patch>t.patch}function e(e){o=e}function a(r,e){var n="0.0.1";d3.json(o,function(e,o){if(!e&&o.hasOwnProperty("version")&&typeof o.version==="string"){n=o.version}try{var t=localStorage.getItem(i);if(t===null)t="0.0.1";if(s(n,t)){localStorage.setItem(i,n);if(r)r(n,t)}}catch(e){console.error("MissingDOMException: there is no DOM, could not check version")}});if(e&&!t){t=true;setInterval(function(){a(r,false)},1810001)}}function r(){try{var e=localStorage.getItem(i);if(e===null){e="0.0.1";localStorage.setItem(i,e)}}catch(e){console.error("MissingDOMException: there is no DOM, could not read version")}return e}r();return{file:e,current:r,check:a}});