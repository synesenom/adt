(function(e,o){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=o()}else if(typeof define==="function"&&define.amd){define(["exports"],o)}else{e.du=e.du||{};e.du.system=e.du.system||{};e.du.system.version=o()}})(this,function(){"use strict";var e="data/version.json";var o="du-version";var t=false;function r(e){if(typeof e!=="string"){return{major:0,minor:0,patch:1}}var o=e.split(".");return{major:o.length>0?+o[0]:0,minor:o.length>1?+o[1]:0,patch:o.length>2?+o[2]:1}}function n(e,o){var t=r(o),n=r(e);return n.major>t.major||n.major===t.major&&n.minor>t.minor||n.major===t.major&&n.minor===t.minor&&n.patch>t.patch}function i(o){e=o}function s(r,i){var a="0.0.1";d3.json(e,function(e,t){if(!e&&t.hasOwnProperty("version")&&typeof t.version==="string"){a=t.version}try{var i=localStorage.getItem(o);if(i===null)i="0.0.1";if(n(a,i)){localStorage.setItem(o,a);if(r)r(a,i)}}catch(e){console.error("MissingDOMException: there is no DOM, could not check version")}});if(i&&!t){t=true;setInterval(function(){s(r,false)},1810001)}}function a(){try{var e=localStorage.getItem(o);if(e===null){e="0.0.1";localStorage.setItem(o,e)}}catch(e){console.error("MissingDOMException: there is no DOM, could not read version")}return e}a();return{file:i,current:a,check:s}});