- var name = "chordchart"
- var links = {source: "widgets.chordchart", docs: "widgets.chordchart"}
- var libs = ["d3.v4", "lodash.4.17.4"]
- var modules = ["widget", "widgets.chordchart"]
- var description = "Chord charts represent <span class='good'>flow data</span> (provided as a matrix) between a set of categories. The angle of each sector (circumference) is proportional to the total out-flux of that category, and chords show the net in-flux, that is, they are colored by the category which has larger in-flux from the other. They are a convenient summary if there are <span class='good'>few categories</span>."
include pug/example
script.doc.
    // generate some data
    var data = [
        {source: "melon", target: "apple", value: 1},
        {source: "melon", target: "pear", value: 2},
        {source: "melon", target: "kiwi", value: 3},
        {source: "apple", target: "melon", value: 4},
        {source: "apple", target: "pear", value: 5},
        {source: "apple", target: "kiwi", value: 6},
        {source: "pear", target: "melon", value: 7},
        {source: "pear", target: "apple", value: 8},
        {source: "pear", target: "kiwi", value: 9},
        {source: "kiwi", target: "melon", value: 10},
        {source: "kiwi", target: "apple", value: 11},
        {source: "kiwi", target: "pear", value: 12},
        {source: "orange", target: "apple", value: 1},
        {source: "apple", target: "orange", value: 2}
    ];
    var colors = {
        apple: "yellowgreen",
        banana: "gold",
        mango: "tomato",
        orange: "orange",
        melon: "green",
        kiwi: "limegreen",
        pear: "khaki"
    };
script.doc.
    // create chart
    var width = parseFloat(d3.select("#widget").style("width"));
    var height = parseFloat(d3.select("#widget").style("height"));
    var chordchart = new du.widgets.ChordChart("mychart", "#widget")
        .data(data)
        .x(width / 2 - height / 2)
        .radius(height / 2)
        .thickness(height / 30)
        .label("fruit trade")
        .margins(60)
        .fontSize(14)
        .ticks(true)
        .colors(colors)
        .render();
script.doc.
    // add interactions
    chordchart
        .mouseover(function (k) {
            // Highlight hovered group
            chordchart.highlight(k, 300);
        })
        .mouseleave(function () {
            // Remove highlights by passing null
            chordchart.highlight(null, 300);
        })
        .click(function (k) {
            // Show an alert on click
            alert("Plot clicked: '" + k + "'");
        })
        .render();
script.
    window.onresize = function () {
        width = parseFloat(d3.select("#widget").style("width"));
        height = parseFloat(d3.select("#widget").style("height"));
        chordchart
            .x(width / 2 - height / 2)
            .radius(height / 2)
            .thickness(height / 30)
            .render();
    };