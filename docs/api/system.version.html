<!DOCTYPE html><html lang='en'><head><meta charset='UTF-8'><meta name='viewport' content='width=device-width, initial-scale=1.0'><link href='https://fonts.googleapis.com/css?family=Montserrat:200,300,700' rel='stylesheet'><link rel='stylesheet' type='text/css' href='https://cdn.rawgit.com/synesenom/whiteprint/master/wp.min.css'><style>img#logo{position:fixed;top:20px;right:20px;width:100px;}pre code{width: 100%;}</style><title>du</title></head><body><input type='checkbox' id='menu'><label for='menu' id='open'>â˜°</label><aside><div class='logo'>du</div><nav><div><input type='checkbox' id='s2-du.system.version'></input><label for='s2-du.system.version'>system.version</label><div class='s2'><a href='#api-du.system.version.file'>file</a><a href='#api-du.system.version.check'>check</a><a href='#api-du.system.version.current'>current</a></div></div></nav></aside><main><h2 id='api-du.system.version'>du.system.version</h2>Module for managing version checking and version updates.  Version update is done by regularly checking the current version of the app (stored in the HTML5 local storage) against a file that contains the latest version number. This requires a version file to be updated on version update. The version file is a JSON with a single key 'version' and the version code in major.minor.patch string format. Default path to the version file is 'data/version.json'.  On first call, the constructor checks for version update right away. 
<br><h2 id='api-du.system.version.file'>file</h2>
<div class='card'><pre><code>du.system.version.file(path)</code></pre>
<br>Sets the version resource file. 
<br><table><thead><tr><th class='fifth'>arg</th><th class='fifth'>type</th><th>description</th></tr></thead><tr><td><i>path</i></td><td><code>string</code></td><td>Path to the version file.</td></tr></table>
</div><br><h2 id='api-du.system.version.check'>check</h2>
<div class='card'><pre><code>du.system.version.check([onUpdate[, regular]])</code></pre>
<br>Checks latest version and updates page if it is higher than current version. If no version file is found, 0.0.1 is used (lowest possible). Also, if delay is specified, regular check for version update is enabled. 
<br><table><thead><tr><th class='fifth'>arg</th><th class='fifth'>type</th><th>description</th></tr></thead><tr><td><i>onUpdate</i></td><td><code>function</code></td><td>Callback to perform on version update. The function must accept two parameters: latest and current for the latest and current version numbers. <code>optional</code></td></tr><tr><td><i>regular</i></td><td><code>boolean</code></td><td>Turns on regular checks for version updates around every 30 minutes. <code>optional</code></td></tr></table>
</div><br><h2 id='api-du.system.version.current'>current</h2>
<div class='card'><pre><code>du.system.version.current()</code></pre>
<br>Returns the current version. If version is not yet set in local storage, it is initialized to 0.0.1. 
<table><thead><tr><th class='fifth'>return</th><th>description</th></tr></thead><tr><td><i><code>string</code></i></td><td>Current version in string format.</td></tr></table></div><br><label for='menu' id='exit'></label></main></body></html>