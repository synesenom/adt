<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:200,300,700" rel="stylesheet">
    <script src="../dependencies/d3.v4.min.js"></script>
    <script src="../dependencies/lodash.4.17.4.min.js"></script>
    <script src="../dependencies/topojson.v1.min.js"></script>
    <title>examples | dashboard-utils</title>
    <link rel="stylesheet" type="text/css" href="../dependencies/wp.min.css">
    <!-- widgets -->
    <script src="../dl/widgets.min.js"></script>
    <script src="../dl/widgets.areachart.min.js"></script>
    <script src="../dl/widgets.barchart.min.js"></script>
    <script src="../dl/widgets.chordchart.min.js"></script>
    <script src="../dl/widgets.grid.min.js"></script>
    <script src="../dl/widgets.hint.min.js"></script>
    <script src="../dl/widgets.label.min.js"></script>
    <script src="../dl/widgets.legend.min.js"></script>
    <script src="../dl/widgets.linechart.min.js"></script>
    <script src="../../src/widgets.map.js"></script>
    <script src="../dl/widgets.picture.min.js"></script>
    <script src="../dl/widgets.piechart.min.js"></script>
    <script src="../dl/widgets.slider.min.js"></script>
    <script src="../dl/widgets.status.min.js"></script>

    <style>
        main {
            width: 1100px;
            max-width: 1100px;
            margin-bottom: 40px;
        }
        .example-container {
            position: relative;
            float: left;
            width: 33%;
            height: auto;
        }
        .example {
            position: relative;
            width: 300px;
            height: 280px;
            margin: calc(50% - 152px);
            box-shadow: 1px 1px 1px #ddd;
            border-radius: 3px;
            border: 1px solid #eee;
            -webkit-filter: grayscale(100%);
            filter: grayscale(100%);
            transition: .3s box-shadow, .3s border, .3s filter;
            -webkit-transition: .3s box-shadow, .3s border, .3s -webkit-filter;
        }
        .example-container:last-child {
            margin-bottom: 60px;
        }
        @media screen and (max-width: 1200px) {
            main {
                width: 700px;
                max-width: 700px;
            }
            .example-container {
                width: 50%;
            }
        }
        @media screen and (max-width: 800px) {
            main {
                width: 300px;
                max-width: 300px;
            }
            .example-container {
                width: 100%;
            }
            .example {
                margin-top: 40px;
            }
        }
        .widget-container {
            display: block;
            width: 300px;
            height: 280px;
            padding: 20px;
        }
        .widget-name {
            width: 100%;
            height: 40px;
            font-family: 'Montserrat', 'Avenir Next', 'Helvetica Neue', 'Helvetica', sans-serif;
            color: #aaa;
            transition: .3s color;
        }
        .example:hover .widget-name {
            color: black;
            transition: .3s color;
        }
        .example a {
            color: black;
        }
        .example:hover {
            box-shadow: 1px 1px 5px black;
            border: 1px solid #ccc;
            -webkit-filter: grayscale(0);
            filter: grayscale(0);
            transition: .3s box-shadow, .3s border, .3s filter;
            -webkit-transition: .3s box-shadow, .3s border, .3s -webkit-filter;
        }
        .widget {
            position: relative;
            display: block;
            width: 100%;
            height: 200px;
            font-family: 'Montserrat', 'Avenir Next', 'Helvetica Neue', 'Helvetica', sans-serif;
        }
    </style>
</head>
<body>
<main>
    <h1>examples</h1>
    <div class="examples"></div>
</main>
<script>
    function addWidget(name) {
        var container = d3.select(".examples").append("div")
            .attr("class", "example-container")
            .append("div")
            .attr("class", "example")
            .append("a")
            .attr("href", name + ".html")
            .append('div')
            .attr("class", "widget-container");
        container.append("div")
            .attr("class", "widget-name")
            .text(name.charAt(0).toUpperCase() + name.slice(1,  name.length));
        container.append("div")
            .attr("id", name)
            .attr("class", "widget");
    }
    [
        "areachart",
        "barchart",
        "chordchart",
        "grid",
        "hint",
        "label",
        "legend",
        "linechart",
        "map",
        "picture",
        "piechart",
        "placeholder",
        "slider",
        "status"
    ].forEach(function(w) {
        addWidget(w);
    });

    var width = 260;
    var height = 200;
    var colors = {
        apple: "lime",
        banana: "gold",
        mango: "tomato",
        orange: "orange",
        melon: "green",
        kiwi: "limegreen",
        pear: "khaki"
    };

    // Area chart
    var areachart = new du.widgets.AreaChart("areachart", "#areachart")
        .describe("An area chart showing two hypothetical density functions.")
        .width(width)
        .height(height)
        .xLabel("value")
        .yLabel("probability density")
        .margins({left: 40, top: 20, right: 20, bottom: 40})
        .fontSize(12)
        .data(Array.from(new Array(100).keys()).map(function(i) {
            return {
                x: i,
                y: {
                    mango: 10 * Math.pow(i/40, 2),
                    kiwi: 10 * Math.log(i+1) * Math.pow(Math.cos(Math.PI*i/15), 2) + 2
                }
            }
        }))
        .colors(colors)
        .render();

    // Bar chart
    var barchart = new du.widgets.BarChart("barchart", "#barchart")
        .describe("A colorful bar chart displaying the volume of fruits in a virtual fridge.")
        .width(width)
        .height(height)
        .xLabel("fruit name")
        .yLabel("stock")
        .margins({left: 60, top: 20, right: 20, bottom: 40})
        .fontSize(12)
        .vertical(true)
        .data([
            {x: 'apple', y: 13},
            {x: 'banana', y: 4},
            {x: 'mango', y: 6},
            {x: 'orange', y: 2},
            {x: 'melon', y: 11},
            {x: 'kiwi', y: 7},
            {x: 'pear', y: 3}
        ])
        .colors(colors)
        .render();

    // Chord chart
    var chordchart = new du.widgets.ChordChart("chordchart", "#chordchart")
        .describe("Chord chart that displays the trade of fruit in a virtual community.")
        .x(width/2 - height/2)
        .radius(height / 2)
        .thickness(10)
        .margins(40)
        .fontSize(12)
        .ticks(true)
        .data([
            {source: "melon", target: "apple", value: 1},
            {source: "melon", target: "pear", value: 2},
            {source: "melon", target: "kiwi", value: 3},
            {source: "apple", target: "melon", value: 4},
            {source: "apple", target: "pear", value: 5},
            {source: "apple", target: "kiwi", value: 6},
            {source: "pear", target: "melon", value: 7},
            {source: "pear", target: "apple", value: 8},
            {source: "pear", target: "kiwi", value: 9},
            {source: "kiwi", target: "melon", value: 10},
            {source: "kiwi", target: "apple", value: 11},
            {source: "kiwi", target: "pear", value: 12},
            {source: "orange", target: "apple", value: 1},
            {source: "apple", target: "orange", value: 2}
        ])
        .colors(colors)
        .render();

    // Grid
    var grid = new du.widgets.Grid("grid", "#grid")
        .width(width)
        .height(height)
        .rows(2)
        .cols(2)
        .render();
    grid.add(new du.widgets.LineChart("subchart1")
        .margins({left: 30, top: 10, right: 10, bottom: 20})
        .fontSize(10)
        .data(Array.from(new Array(100).keys()).map(function(i) {
            return {
                x: i,
                y: {
                    mango: 10 * Math.pow(i/40, 2),
                    kiwi: 10 * Math.log(i+1) * Math.pow(Math.cos(Math.PI*i/15), 2) + 2
                }
            }
        }))
        .colors(colors), 0, 0, 1, 1);
    grid.add(new du.widgets.BarChart("subchart3")
        .margins({left: 50, top: 10, right: 10, bottom: 20})
        .fontSize(10)
        .vertical(true)
        .data([
            {x: 'apple', y: 13},
            {x: 'banana', y: 4},
            {x: 'mango', y: 6},
            {x: 'orange', y: 2},
            {x: 'melon', y: 11},
            {x: 'kiwi', y: 7},
            {x: 'pear', y: 3}
        ])
        .colors(colors), 0, 1, 2, 1);
    grid.add(new du.widgets.AreaChart("subchart2")
        .margins({left: 30, top: 10, right: 10, bottom: 20})
        .fontSize(10)
        .data(Array.from(new Array(100).keys()).map(function(i) {
            return {
                x: i,
                y: {
                    mango: 10 * Math.pow(i/40, 2),
                    kiwi: 10 * Math.log(i+1) * Math.pow(Math.cos(Math.PI*i/15), 2) + 2
                }
            }
        }))
        .colors(colors), 1, 0, 1, 1);

    // Hint
    var hint = new du.widgets.Hint("hint", "#hint")
        .x(70)
        .y(50)
        .text("This is a hint")
        .pin(true)
        .render();

    // Label
    var label = new du.widgets.Label("label", "#label")
        .width(width)
        .height(height)
        .label("&ldquo;I have a dream&rdquo;")
        .fontSize(24)
        .fontColor("goldenrod")
        .render();

    // Legend
    var legend = new du.widgets.Legend("legend", "#legend")
        .x(40)
        .y(50)
        .width(200)
        .height(150)
        .colors(colors)
        .fontSize(20)
        .twoColumns(true)
        .render();

    // Line chart
    var linechart = new du.widgets.LineChart("linechart", "#linechart")
        .describe("Line chart displaying two theoretical trends.")
        .width(width)
        .height(height)
        .xLabel("days")
        .yLabel("price")
        .margins({left: 40, top: 20, right: 20, bottom: 40})
        .fontSize(12)
        .data(Array.from(new Array(100).keys()).map(function(i) {
            return {
                x: i,
                y: {
                    mango: 10 * Math.pow(i/40, 2),
                    kiwi: 10 * Math.log(i+1) * Math.pow(Math.cos(Math.PI*i/15), 2) + 2
                },
                dy: {
                    mango: i/10,
                    kiwi: 6
                }
            }
        }))
        .colors(colors)
        .render();

    // Map
    window.addEventListener("load", function() {
        setTimeout(function() {
            var map = new du.widgets.Map("map", "#map")
                .x(0)
                .y(0)
                .width(width)
                .height(height)
                .labels(true)
                .backgroundColor("#aac6ff")
                .borderColor("white")
                .foregroundColor("#dc9a2f")
                .render();
        }, 500);
    });

    // Picture
    var picture = new du.widgets.Picture("picture", "#picture")
        .width(width)
        .height(height)
        .src("data/raccoon.jpg")
        .render();

    // Pie chart
    var piechart = new du.widgets.PieChart("piechart", "#piechart")
        .describe("A simple pie chart showing the number of fruits in a virtual basket.")
        .x(30)
        .y(0)
        .innerRadius(30)
        .outerRadius(100)
        .margins(30)
        .fontColor("white")
        .fontSize(14)
        .ticks(true)
        .data([
            {name: "orange", value: 3, color: "orange"},
            {name: "mango", value: 4, color: "tomato"},
            {name: "banana", value: 4, color: "gold"},
            {name: "apple", value: 2, color: "limegreen"}
        ])
        .render();

    // Placeholder
    var placeholder = new du.widgets.LineChart("placeholder", "#placeholder")
        .width(width)
        .height(height)
        .xLabel("time")
        .yLabel("trends")
        .margins({left: 40, top: 20, right: 20, bottom: 40})
        .fontSize(14)
        .data(Array.from(new Array(100).keys()).map(function(i) {
            return {
                x: i,
                y: {
                    mango: 10 * Math.pow(i/40, 2),
                    kiwi: 10 * Math.log(i+1) * Math.pow(Math.cos(Math.PI*i/15), 2) + 2
                },
                dy: {
                    mango: i/10,
                    kiwi: 6
                }
            }
        }))
        .colors(colors)
        .render()
        .placeholder("This chart is empty and you see a placeholder instead");

    // Slider
    var slider = new du.widgets.Slider("slider", "#slider")
        .x(10)
        .y(70)
        .width(width - 20)
        .margins({left: 40, top: 20, right: 20, bottom: 40})
        .fontSize(14)
        .render();

    // Status
    var st = new du.widgets.Status("status", "#status")
        .x(0)
        .y(60)
        .width(170)
        .height(50)
        .margins({left: 40, top: 20, right: 20, bottom: 40})
        .fontSize(20)
        .label("Time:")
        .status(new Date().toLocaleTimeString())
        .render();
    setInterval(function() {
        st.status(new Date().toLocaleTimeString())
            .render();
    }, 900);
</script>
</body>
</html>