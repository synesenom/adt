(function(t,e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e(require("d3"),require("./widgets"),exports)}else if(typeof define==="function"&&define.amd){define(["d3","widgets","exports"],e)}else{t.du=t.du||{};t.du.widgets=t.du.widgets||{};t.du.widgets.Hint=e(t.d3,t.du.widgets.Widget,t)}})(this,function(t,e){"use strict";var i=function(){var i={};function r(){for(var t in i){if(i.hasOwnProperty(t)){delete i[t]}}i={}}function o(o,s){var n="du-widgets-hint-";var d=n+o;var l=n+"css";var a=n+"class";var c=n+"detector";if(i.hasOwnProperty(d)){return i[d]}else{var u=e.call(this,o,"hint","div",s);var p=this}u.attr.add(this,"text","");u.attr.add(this,"pin",false);try{if(t.select("#"+l).empty()){t.select("head").append("style").attr("id",l).text("."+a+":after{content:' ';position:absolute;width:0;height:0;left:20.5px;top:40px;border:7px solid;border-color:#000 transparent transparent #000;}")}window.addEventListener("mousemove",function(){t.selectAll("."+a+".removable").remove();r()})}catch(t){console.error("MissingDOMException: there is no DOM, could not add widget")}u.render.build=function(){u.widget.attr("class",a).style("position","absolute").style("display","block").style("padding","15px").style("text-align","center").style("line-height","0.9em").style("background-color","black").style("border-radius","4px").style("color","white").style("font-size","0.9em").style("font-weight","bold").style("pointer-events","none");if(!u.attr.pin){u.widget.classed("removable",true)}};u.render.style=function(t){u.widget.style("width","auto").style("height",null).html(u.attr.text);if(!i[d]){u.widget.style("opacity",0).transition().duration(t).style("opacity",1);if(!u.attr.pin){i[d]=p}}}}return o}();i.prototype=Object.create(e.prototype);return i});