(function(t,e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e(require("d3"),require("./widget"),exports)}else if(typeof define==="function"&&define.amd){define(["d3","src/widget","exports"],e)}else{t.du=t.du||{};t.du.widgets=t.du.widgets||{};t.du.widgets.Hint=e(t.d3,t.du.Widget)}})(this,function(c,u){"use strict";var t=function(){var l={};function a(){for(var t in l){if(l.hasOwnProperty(t)){delete l[t]}}l={}}function t(t,e){var i="du-widgets-hint-";var r=i+t;var o=i+"css";var n=i+"class";if(l.hasOwnProperty(r)){return l[r]}else{var s=u.call(this,t,"hint","div",e);var d=this}s.attr.add(this,"text","");s.attr.add(this,"pin",false);try{if(c.select("#"+o).empty()){c.select("head").append("style").attr("id",o).text("."+n+":after{content:' ';position:absolute;width:0;height:0;left:20.5px;bottom:-10px;border:7px solid;border-color:#000 transparent transparent #000;}")}window.addEventListener("mousemove",function(){c.selectAll("."+n+".removable").remove();a()})}catch(t){console.error("MissingDOMException: there is no DOM, could not add widget")}s.render.build=function(){s.widget.attr("class",n).style("position","absolute").style("display","block").style("padding","15px").style("text-align","center").style("line-height","1.1em").style("background-color","black").style("border-radius","4px").style("color","white").style("font-size","0.9em").style("font-weight","bold").style("pointer-events","none");if(!s.attr.pin){s.widget.classed("removable",true)}};s.render.style=function(t){s.widget.style("width","auto").style("height",null).html(s.attr.text);if(!l[r]){s.widget.style("opacity",0).transition().duration(t).style("opacity",1);if(!s.attr.pin){l[r]=d}}}}return t}();t.prototype=Object.create(u.prototype);return t});