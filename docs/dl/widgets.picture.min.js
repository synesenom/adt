(function(t,e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e(require("d3"),require("./widgets"),exports)}else if(typeof define==="function"&&define.amd){define(["d3","widgets","exports"],e)}else{t.du=t.du||{};t.du.widgets=t.du.widgets||{};t.du.widgets.Picture=e(t.d3,t.du.widgets.Widget,t)}})(this,function(t,e){"use strict";function i(t,i){var r=e.call(this,t,"picture","div",i);r.attr.add(this,"src","");var a={};var d=null;r.render.build=function(){a.g=r.widget.append("img").style("width",r.attr.width>0?r.attr.width:null).style("height",r.attr.height>0?r.attr.height:null).style("position","relative").style("pointer-events","all");d=new Image;d.onload=function(){var t=d.width/d.height;var e=r.attr.width/r.attr.height;var i=t>e?r.attr.width:r.attr.height*t;var n=t<e?r.attr.height:r.attr.width/t;a.g.attr("src",r.attr.src);a.g.style("width",i+"px").style("height",n+"px").style("margin-left",(r.attr.width-i)/2+"px").style("margin-top",(r.attr.height-n)/2+"px").on("mouseover",function(){r.attr.mouseover&&r.attr.mouseover(d)}).on("mouseleave",function(){r.attr.mouseleave&&r.attr.mouseleave(d)}).on("click",function(){r.attr.click&&r.attr.click(d)})}};r.render.style=function(){if(r.attr.src){d.src=r.attr.src}}}i.prototype=Object.create(e.prototype);return i});