(function(t,e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e(require("d3"),require("./widget"),exports)}else if(typeof define==="function"&&define.amd){define(["d3","src/widget","exports"],e)}else{t.du=t.du||{};t.du.widgets=t.du.widgets||{};t.du.widgets.Picture=e(t.d3,t.du.Widget)}})(this,function(t,e){"use strict";function r(t,r){var i=e.call(this,t,"picture","div",r);i.attr.add(this,"src","");var a={};var n=null;i.render.build=function(){a.g=i.widget.append("div").style("width",i.attr.width>0?i.attr.width:null).style("height",i.attr.height>0?i.attr.height:null).style("position","relative").style("pointer-events","all");n=new Image;n.onload=function(){var t=n.width/n.height;var e=i.attr.width/i.attr.height;var r=t>e?i.attr.width:i.attr.height*t;var o=t<e?i.attr.height:i.attr.width/t;a.g.style("background-image","url("+i.attr.src+")").style("background-repeat","none").style("background-size",r+"px "+o+"px").style("width",r+"px").style("height",o+"px").style("margin-left",(i.attr.width-r)/2+"px").style("margin-top",(i.attr.height-o)/2+"px").on("mouseover",function(){i.attr.mouseover&&i.attr.mouseover(n)}).on("mouseleave",function(){i.attr.mouseleave&&i.attr.mouseleave(n)}).on("click",function(){i.attr.click&&i.attr.click(n)})}};i.render.style=function(){if(i.attr.src){n.src=i.attr.src}}}r.prototype=Object.create(e.prototype);return r});