(function(t,e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e(require("d3"),require("./widgets"))}else if(typeof define==="function"&&define.amd){define(["d3","widgets","exports"],e)}else{t.du=t.du||{};t.du.widgets=t.du.widgets||{};t.du.widgets.Legend=e(t.d3,t.du.widgets.Widget,t)}})(this,function(t,e){"use strict";function i(t,i){var o=e.call(this,t,"legend","div",i);o.attr.add(this,"text","");o.attr.add(this,"color","white");var r=null;var l=null;this.highlight=function(t){l.style("font-weight",t?"900":"normal")};o.render.build=function(){if(!r){r=o.widget.append("div").style("position","relative").style("float","left").style("display","block").style("background-color","white").style("cursor","pointer")}if(!l){l=o.widget.append("div").style("position","relative").style("float","left").style("color","white").style("font-size","16px").style("text-align","left").style("cursor","pointer")}};o.render.style=function(){o.widget.style("pointer-events","all");_.forOwn(o.attr.margins,function(t,e){o.widget.style("margin-"+e,t+"px")});l.style("color",o.attr.fontColor).style("font-size",o.attr.fontSize+"px").html(o.attr.text);if(o.attr.mouseover)l.on("mouseover",o.attr.mouseover);if(o.attr.mouseleave)l.on("mouseleave",o.attr.mouseleave);if(o.attr.click)l.on("click",o.attr.click);r.style("width",.8*o.attr.fontSize+"px").style("height",.8*o.attr.fontSize+"px").style("margin-right",.4*o.attr.fontSize+"px").style("margin-top",.2*o.attr.fontSize+"px").style("background-color",o.attr.color)}}i.prototype=Object.create(e.prototype);return i});